if (self.CavalryLogger) { CavalryLogger.start_js(["DbT53"]); }

__d("AdsCCMenuComponentTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({EMPTY:null,MENU:null,XOUT:null});c=b("keyMirror")({SAVE:null,UNSAVE:null,HIDE:null,EMAIL:null,FEEDBACK:null});e.exports={MenuOptions:a,MenuItems:c}}),null);
__d("AdsCCCategoryConfig",["ix","cssVar","AdsCCMenuComponentTypes","asset","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsCCMenuComponentTypes").MenuItems,j=b("AdsCCMenuComponentTypes").MenuOptions;function k(a,b){if(a==="HELP")return[i.FEEDBACK];else return[i.HIDE,i.FEEDBACK]}function a(a,b,c){switch(a){case"ACTIVE_FEEDBACK":return{menuItems:[i.HIDE,i.FEEDBACK],menuOption:j.MENU,surveyID:159827751363772};case"ACTIVE_FEEDBACK_SUCCESS_MESSAGE":return{menuItems:[],menuOption:j.XOUT};case"ERROR":return{menuItems:c?[i.FEEDBACK,i.HIDE]:[i.FEEDBACK],menuOption:j.MENU,surveyID:565355047184984};case"HELP":return{menuItems:k(a,b),menuOption:j.MENU,surveyID:2000931193457614};case"LEGAL_AND_POLICY":return{menuItems:[i.HIDE,i.FEEDBACK],menuOption:j.MENU,surveyID:418587488613508};case"NEW_PRODUCT":return{menuItems:k(a,b),menuOption:j.MENU,surveyID:1668220866602791};case"RECOMMENDATION_BEST_PRACTICE":return{menuItems:k(a,b),menuOption:j.MENU,surveyID:210791859525567};case"RECOMMENDATION_PERSONALIZED":return{menuItems:k(a,b),menuOption:j.MENU,surveyID:210791859525567};case"RELEASE_NOTE":return{menuItems:[],menuOption:j.EMPTY};case"WARNING":return{menuItems:[i.FEEDBACK],menuOption:j.MENU,surveyID:565355047184984};default:return{menuItems:[],menuOption:j.XOUT}}}d=(c={},c.ACTIVE_FEEDBACK={color:"#3578E5",icon:g("489670"),notifIcon:g("489671")},c.ACTIVE_FEEDBACK_SUCCESS_MESSAGE={color:"#00A400",icon:g("506114"),notifIcon:g("506115")},c.ERROR={color:"#FA383E",icon:g("503377"),notifIcon:g("503378")},c.HELP={color:"#89A1AC",icon:g("596900"),notifIcon:g("596901")},c.LEGAL_AND_POLICY={color:"#444950",icon:g("503360"),notifIcon:g("503361")},c.NEW_PRODUCT={color:"#8C72CB",icon:g("503370"),iconFilled:g("503365"),notifIcon:g("503371")},c.RECOMMENDATION_BEST_PRACTICE={color:"#6BCEBB",icon:g("503332"),iconFilled:g("503329"),notifIcon:g("503333")},c.RECOMMENDATION_PERSONALIZED={color:"#6BCEBB",icon:g("503353"),iconFilled:g("503350"),notifIcon:g("503354")},c.RELEASE_NOTE={color:"#444950",icon:g("567577"),notifIcon:g("567578")},c.WARNING={color:"#FFBA00",icon:g("480793"),notifIcon:g("480794")},c);f=b("keyMirror")({HORIZONTAL:null,VERTICAL:null});h=b("keyMirror")({LOADING:null,LOADED:null});e.exports={CardLayout:f,CardState:h,CATEGORY_CONFIG:d,CATEGORY_CONFIG_MENU:a}}),null);
__d("AdsInterfacesRouteConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={FRAGMENT_IN_PARAMS:"$$fragment$$"}}),null);
__d("AdsInterfacesICERoute",["AdsInterfacesRouteConstants","URI","immutable","react-relay-deprecated/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";var g,h=function(){return null};function i(a,b,c){var d={};Object.keys(a).forEach(function(e){if(Object.prototype.hasOwnProperty.call(b,e)){if(!c&&b[e]==a[e].defaultValue)return;d[e]=b[e]}});return d}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c,d)||this;Object.defineProperty(babelHelpers.assertThisInitialized(c),"givenName",{enumerable:!0,value:c.constructor.givenName});Object.defineProperty(babelHelpers.assertThisInitialized(c),"fragment",{enumerable:!0,get:function(){var a=this.params,c=b("AdsInterfacesRouteConstants").FRAGMENT_IN_PARAMS;return Object.prototype.hasOwnProperty.call(a,c)?a[c]:null}});Object.defineProperty(babelHelpers.assertThisInitialized(c),"semanticParams",{enumerable:!0,get:function(){return this.constructor.semanticParams(this.constructor,this.params)}});Object.defineProperty(babelHelpers.assertThisInitialized(c),"queryParams",{enumerable:!0,get:function(){return this.constructor.queryParams(this.constructor,this.params)}});Object.defineProperty(babelHelpers.assertThisInitialized(c),"activeState",{enumerable:!0,get:function(){return babelHelpers["extends"]({},this.constructor.activeState)}});Object.defineProperty(babelHelpers.assertThisInitialized(c),"url",{enumerable:!0,get:function(){!d&&this.constructor.path&&(d=h(this.constructor,this.params));if(typeof d==="string")return new(g||(g=b("URI")))(d);else return d}});Object.defineProperty(babelHelpers.assertThisInitialized(c),"title",{enumerable:!0,get:function(){var a=!1,b=[],c=this.constructor;while(!a&&c){var d=void 0;c.handler&&c.handler.getTitle&&(d=c.handler.getTitle(c,this));!d&&c.title&&(d=c.title);d&&(c.absoluteTitle?(b=[d],a=!0):b.unshift(d));c=c.parentRoute}if(b.length===0)return null;else return b.join(" - ")}});return c}var d=c.prototype;d.$AdsInterfacesICERoute1=function(a){var c=[];if(a!=null){a=a.constructor;while(a)c.push(a),a=a.parentRoute}return b("immutable").List(c)};d.isForceLoad=function(a){a=this.$AdsInterfacesICERoute1(a);var b=!1,c=this.constructor;if(!a.contains(c))while(c){var d=null;c.handler&&c.handler.isForceLoad&&(d=c.handler.isForceLoad(c,a,this));d==null&&c.forceLoad!=null&&(d=c.forceLoad);d!=null&&b!=null&&(b=b||d);c=c.parentRoute;c&&a.contains(c)&&(c=null)}return b};c.semanticParams=function(a,b){return i(a.paramDefinitions||{},b,!0)};c.queryParams=function(a,b){return i(a.queryParamDefinitions||{},b,!0)};c.queryParamsWithoutDefaults=function(a,b){return i(a.queryParamDefinitions||{},b,!1)};c.getDecodedQueryParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.queryParamDefinitions,b,!0)};c.getEncodedQueryParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.queryParamDefinitions,b,!1)};c.getDecodedSemanticParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.paramDefinitions,b,!0)};c.getEncodedSemanticParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.paramDefinitions,b,!1)};c.$AdsInterfacesICERoute2=function(a,b,c,d){var e={};if(!b)return c;for(var f in c){var g=c[f],h=b[f];if(h&&h.customType){var i=h.customType,j=null,k=a;while(j===null&&k){if(k.handler){var l=k.handler,m={required:!!h.required,defaultValue:h.defaultValue,enums:h.enums};d&&l.decodeParameter?j=l.decodeParameter(k,f,i,g,m):!d&&l.encodeParameter&&(j=l.encodeParameter(k,f,i,g,m))}k=k.parentRoute}e[f]=j}else e[f]=g}return e};c.injectURICreator=function(a){h=a};c.toShortNavigatable=function(){return[this.configName,Array.from(this.configPath)]};return c}(b("react-relay-deprecated/classic/route/RelayRoute"));e.exports=a}),null);
__d("AdsInterfacesRouteTypeFBID",["invariant","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=",";e.exports={decodeArray:function(a,b){return!b.length?[]:b.split(h)},encodeArray:function(a,b){Array.isArray(b)||g(0,1473,typeof b,JSON.stringify(b),a);return b.map(function(a){return String(a)}).join(",")},decodeOrderedSet:function(a,c){return b("immutable").OrderedSet(this.decodeArray(a,c))},encodeOrderedSet:function(a,c){b("immutable").OrderedSet.isOrderedSet(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())},decodeList:function(a,c){return b("immutable").List(this.decodeArray(a,c))},encodeList:function(a,c){b("immutable").List.isList(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())}}}),null);
__d("AdsInterfacesRouteTypeFloat",["invariant","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=",";e.exports={decodeArray:function(a,b){return!b.length?[]:b.split(h).map(function(a){return parseFloat(a)})},encodeArray:function(a,b){Array.isArray(b)||g(0,1473,typeof b,JSON.stringify(b),a);return b.map(function(a){return parseFloat(a)}).join(",")},decodeOrderedSet:function(a,c){return b("immutable").OrderedSet(this.decodeArray(a,c))},encodeOrderedSet:function(a,c){b("immutable").OrderedSet.isOrderedSet(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())},decodeList:function(a,c){return b("immutable").List(this.decodeArray(a,c))},encodeList:function(a,c){b("immutable").List.isList(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())}}}),null);
__d("AdsInterfacesRouteTypeInt",["invariant","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=",";e.exports={decodeArray:function(a,b){return!b.length?[]:b.split(h).map(function(a){return parseInt(a,10)})},encodeArray:function(a,b){Array.isArray(b)||g(0,1473,typeof b,JSON.stringify(b),a);return b.map(function(a){return parseInt(a,10)}).join(",")},decodeOrderedSet:function(a,c){return b("immutable").OrderedSet(this.decodeArray(a,c))},encodeOrderedSet:function(a,c){b("immutable").OrderedSet.isOrderedSet(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())},decodeList:function(a,c){return b("immutable").List(this.decodeArray(a,c))},encodeList:function(a,c){b("immutable").List.isList(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())}}}),null);
__d("AdsInterfacesRouteTypeString",["invariant","compactArray","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g,i=/^\"(.*)\"$/;e.exports={decodeArray:function(a,c){if(Array.isArray(c))return b("compactArray")(c.map(function(a){return typeof a==="string"?a:null}));return typeof c!=="string"||!c.length?[]:c.split(h).map(function(a){return a.replace(i,"$1")})},encodeArray:function(a,b){Array.isArray(b)||g(0,1473,typeof b,JSON.stringify(b),a);return b.map(function(a){return String(a)}).map(function(a){return a.indexOf(",")>-1?'"'+a+'"':a}).join(",")},decodeOrderedSet:function(a,c){return b("immutable").OrderedSet(this.decodeArray(a,c))},encodeOrderedSet:function(a,c){b("immutable").OrderedSet.isOrderedSet(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())},decodeList:function(a,c){return b("immutable").List(this.decodeArray(a,c))},encodeList:function(a,c){b("immutable").List.isList(c)||g(0,1473,typeof c,JSON.stringify(c),a);return this.encodeArray(a,c.toArray())}}}),null);
__d("AdsInterfacesGenericRoute",["invariant","AdsInterfacesICERoute","AdsInterfacesRouteTypeFBID","AdsInterfacesRouteTypeFloat","AdsInterfacesRouteTypeInt","AdsInterfacesRouteTypeString","areEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsInterfacesGenericRoute";a.givenName="genericRoot";a.handler={_convertEnumValue:function(a,c,d,e){var f=String(c);Array.isArray(e)||g(0,6124,a);a=e.some(function(a){return(h||(h=b("areEqual")))(a,c)});a||(f=String(d));return f},decodeParameter:function(a,b,c,d,e){var f=null;if(d==null)return d;switch(c.toLowerCase()){case"enum":f=this._convertEnumValue(b,d,e.defaultValue,e.enums);break;case"string":case"fbid":f=d;break;case"int":f=parseInt(d,10);break;case"float":case"number":f=parseFloat(d);break;case"boolean":d==="false"||d===""||d==="0"?f=!1:f=!!d;break;default:f=this._decodeMultiParameter(a,b,c,d,e)}return f},_decodeMultiParameter:function(a,c,d,e,f){a=null;switch(d.toLowerCase()){case"stringarray":case"array<string>":a=b("AdsInterfacesRouteTypeString").decodeArray(d,e);break;case"stringorderedset":case"stringset":case"orderedset<set>":case"set<string>":a=b("AdsInterfacesRouteTypeString").decodeOrderedSet(d,e);break;case"stringlist":case"list<string>":a=b("AdsInterfacesRouteTypeString").decodeList(d,e);break;case"fbidarray":case"array<fbid>":a=b("AdsInterfacesRouteTypeFBID").decodeArray(d,e);break;case"fbidorderedset":case"fbidset":case"orderedset<fbid>":case"set<fbid>":a=b("AdsInterfacesRouteTypeFBID").decodeOrderedSet(d,e);break;case"fbidlist":case"list<fbid>":a=b("AdsInterfacesRouteTypeFBID").decodeList(d,e);break;case"floatarray":case"array<float>":case"numberarray":case"array<number>":a=b("AdsInterfacesRouteTypeFloat").decodeArray(d,e);break;case"floatorderedset":case"floatset":case"orderedset<float>":case"set<float>":case"numberorderedset":case"numberset":case"orderedset<number>":case"set<number>":a=b("AdsInterfacesRouteTypeFloat").decodeOrderedSet(d,e);break;case"floatlist":case"list<float>":case"numberlist":case"list<number>":a=b("AdsInterfacesRouteTypeFloat").decodeList(d,e);break;case"intarray":case"array<int>":a=b("AdsInterfacesRouteTypeInt").decodeArray(d,e);break;case"intorderedset":case"intset":case"orderedset<int>":case"set<int>":a=b("AdsInterfacesRouteTypeInt").decodeOrderedSet(d,e);break;case"intlist":case"list<int>":a=b("AdsInterfacesRouteTypeInt").decodeList(d,e);break}return a},encodeParameter:function(a,b,c,d,e){var f=null;if(d==null)return d;switch(c.toLowerCase()){case"enum":f=this._convertEnumValue(b,d,e.defaultValue,e.enums);break;case"string":case"fbid":f=d+"";break;case"int":case"float":case"number":f=Number(d)+"";break;case"boolean":f=d?"true":"false";break;default:f=this._encodeMultiParameter(a,b,c,d,e)}return f},_encodeMultiParameter:function(a,c,d,e,f){a=null;switch(d.toLowerCase()){case"stringarray":case"array<string>":a=b("AdsInterfacesRouteTypeString").encodeArray(d,e);break;case"stringorderedset":case"stringset":case"orderedset<string>":case"set<string>":a=b("AdsInterfacesRouteTypeString").encodeOrderedSet(d,e);break;case"stringlist":case"list<string>":a=b("AdsInterfacesRouteTypeString").encodeList(d,e);break;case"fbidarray":case"array<fbid>":a=b("AdsInterfacesRouteTypeFBID").encodeArray(d,e);break;case"fbidorderedset":case"fbidset":case"orderedset<fbid>":case"set<fbid>":a=b("AdsInterfacesRouteTypeFBID").encodeOrderedSet(d,e);break;case"fbidlist":case"list<fbid>":a=b("AdsInterfacesRouteTypeFBID").encodeList(d,e);break;case"floatarray":case"array<float>":case"numberarray":case"array<number>":a=b("AdsInterfacesRouteTypeFloat").encodeArray(d,e);break;case"floatorderedset":case"floatset":case"orderedset<float>":case"set<float>":case"numberorderedset":case"numberset":case"orderedset<number>":case"set<number>":a=b("AdsInterfacesRouteTypeFloat").encodeOrderedSet(d,e);break;case"floatlist":case"list<float>":case"numberlist":case"list<number>":a=b("AdsInterfacesRouteTypeFloat").encodeList(d,e);break;case"intarray":case"array<int>":a=b("AdsInterfacesRouteTypeInt").encodeArray(d,e);break;case"intorderedset":case"intset":case"orderedset<int>":case"set<int>":a=b("AdsInterfacesRouteTypeInt").encodeOrderedSet(d,e);break;case"intlist":case"list<int>":a=b("AdsInterfacesRouteTypeInt").encodeList(d,e);break}return a}};e.exports=a}),null);
__d("asyncSleep",["regeneratorRuntime","Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b){return setTimeout(b,a)}));case 2:case"end":return c.stop()}},null,this)}e.exports=a}),null);
__d("NotificationGenericBucket",["NotificationSeenState"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this;this.$2=[];this.$3={};this.$4={};this.$7=function(a,c){a=b.$4[a];c=b.$4[c];return Number(c)-Number(a)};this.$1=a}var c=a.prototype;c.reset=function(){this.$2=[],this.$3={},this.$4={}};c.getType=function(){return this.$1.bucket_type};c.getTitle=function(){return this.$1.title};c.getSortedIDs=function(){return this.$2.slice()};c.insertIfEligible=function(a){var b=this.$5(a);if(!b.eligible)return b;this.$6(a);return{eligible:!0}};c.remove=function(a){if(!this.$3[a])return!1;delete this.$3[a];delete this.$4[a];a=this.$2.indexOf(a);a>-1&&this.$2.splice(a,1);return!0};c.$6=function(a){var b=a.alert_id;if(this.$3[b])return!0;this.$2.push(b);this.$3[b]=!0;var c=this.$8(this.$1.sort_key_index);if(c>-1){a=a.sort_keys?a.sort_keys[c]:null;a&&(this.$4[b]=a,this.$9())}return!0};c.$9=function(){this.$2.sort(this.$7)};c.$5=function(a){if(!this.$10(a))return{eligible:!1,type:"bucket",data:a.eligible_buckets};if(!this.$11(a))return{eligible:!1,type:"exp_time"};if(!this.$12(a))return{eligible:!1,type:"seen_filter"};if(!this.$13(a))return{eligible:!1,type:"max_count"};if(!this.$14(a))return{eligible:!1,type:"seen_evict",data:this.$15(a)};return!this.$16(a)?{eligible:!1,type:"read_evict"}:{eligible:!0}};c.$8=function(a){return Number.isInteger(a)?Number(a):-1};c.$10=function(a){return!a.eligible_buckets?!1:a.eligible_buckets.includes(this.getType())};c.$12=function(a){return b("NotificationSeenState").validateFilter(a.alert_id,this.$1.seen_filter)};c.$11=function(a){var b=this.$8(this.$1.min_to_expire);return b===-1?!0:Date.now()-a.creation_time<b*60*1e3};c.$13=function(a){a=this.$8(this.$1.max_count);return a===-1?!0:this.$2.length<a};c.$15=function(a){var b=this.$8(this.$1.sec_to_evict_seen);return{secToEvict:b,firstTime:a.first_seen_time||0,currentTime:Date.now()/1e3}};c.$17=function(a){var b=this.$8(this.$1.sec_to_evict_read);return{secToEvict:b,firstTime:a.first_read_time||0,currentTime:Date.now()/1e3}};c.$18=function(a){var b=a.secToEvict,c=a.firstTime;a=a.currentTime;return b===-1||c===0?!0:a-c<b};c.$14=function(a){return this.$18(this.$15(a))};c.$16=function(a){return this.$18(this.$17(a))};return a}();e.exports=a}),null);
__d("NotificationServerTransport",["invariant","DOM","UIPagelet","compactArray","ifRequired","objectValues","once","promiseDone","setImmediateAcrossTransitions","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h={},i={},j={},k={};function l(a){k[a]==null&&(k[a]=b("DOM").create("div",{"class":"hidden_elem",id:a}),b("DOM").appendContent(document.documentElement,k[a]));return k[a].id}function m(a){return a.reduce(function(a,b){b=b.targetNumToLoad;return Math.max(a,b)},0)}function n(a,b){var c=b.getHash(),d=h[c];if(!d||d.clientRequestID!==a)return;delete h[c];d.calls.forEach(function(a){a=a.onCompleted;a&&a()});i[c]!=null&&p(b)}function o(a,b,c){var d=b.getHash(),e=h[d];if(!e||e.clientRequestID!==a)return;delete h[d];e.calls.forEach(function(a){a=a.onError;a&&a(c)});i[d]!=null&&p(b)}function p(a){var c=a.getHash();if(j[c]!=null)return;j[c]=b("setImmediateAcrossTransitions")(function(){delete j[c];var d=b("uniqueID")(),e=i[c];delete i[c];if(e==null)return;var f=m(e);f=a.getRequestParams(f);if(f.length<=0){e.forEach(function(a){a=a.onCompleted;a&&a()});return}var k=function(b){o(d,a,b.toError())},n=a.getStreamingTransportPageletName();n!=null||g(0,5708,a.getHash());n=b("UIPagelet").loadFromEndpoint(n,l(d),babelHelpers["extends"]({},f,{clientRequestID:d}),{allowIrrelevantRequests:!0,automatic:!1,crossPage:!0,errorHandler:k,jsNonblock:!0,transportErrorHandler:k,usePipe:!0,usePostRequest:!1});h[c]={calls:e,clientRequestID:d,endpointState:a,transport:n}})}a={makeRequest:function(a,b,c){var d=c.onChunkResponse,e=c.onCompleted;c=c.onError;var f=a.getHash(),j={onChunkResponse:d,onCompleted:e,onError:c,targetNumToLoad:b};s(f);d=h[f];e=d?m(d.calls)>=b:!1;e?(d!=null||g(0,5709),d.calls.push(j)):(i[f]==null&&(i[f]=[]),i[f].push(j),d==null&&p(a));return{remove:function(){var b=h[f];if(b!=null){var c=b.calls.indexOf(j);c!==-1&&b.calls.splice(c,1);b.calls.length===0&&(b.transport&&b.transport.abandon(),delete h[f],i[f]!=null&&p(a))}c=i[f];if(c!=null){b=c.indexOf(j);b!==-1&&c.splice(b,1)}}}},handleResponseChunk:function(a,b){a=q(a);a.forEach(function(a){a(b)})},handleRequestCompleted:function(a){var c=b("objectValues")(h).find(function(b){return b&&b.clientRequestID===a});c||g(0,5710,a);n(a,c.endpointState)},handleRequestFailed:function(a,c){var d=b("objectValues")(h).find(function(b){return b&&b.clientRequestID===a});d||g(0,5711,a);var e=d.endpointState.getHash(),f=h[e];if(!f||f.clientRequestID!==a)return;delete h[e];f.calls.forEach(function(a){a=a.onError;a&&a(new Error(c))});i[e]!=null&&p(d.endpointState)}};function q(a){var c=Object.keys(h).find(function(b){b=h[b];return b&&b.clientRequestID===a}),d=c&&h[c];if(!d||!c)return[];d=d.calls;c=i[c];c&&(d=d.concat(c));return b("compactArray")(d.map(function(a){return a.onChunkResponse}))}function r(a,c){var d=c.targetNumToLoad,e=c.endpointState;c=c.payloadPromise;if(h[a]!=null)return;var f=b("uniqueID")();d={calls:[{targetNumToLoad:d}],clientRequestID:f,endpointState:e};h[a]=d;c||g(0,5712);a=c.then(function(a){var b=q(f);b.forEach(function(b){b(a)})});b("promiseDone")(a["finally"](function(){n(f,e)}))}c=function(a){b("ifRequired")("NotificationEagerLoader",function(b){b=b.eagerlyLoadedData;b.hasData&&a===b.endpointState.getHash()&&r(a,b)})};var s=b("once")(c);e.exports=a}),null);
__d("NotificationStore",["FBLogger","NotificationConstants","NotificationEndpointState","NotificationServerTransport","NotificationUpdates","createObjectBy","distinctArrayBy","flatMapArray","objectValues","sortBy"],(function(a,b,c,d,e,f){var g={};function h(a,b,c){return a.page_info!=null&&b.classification==c.classification&&b.endpointControllerName===c.endpointControllerName&&b.readness==c.readness}function i(a,c){var d={};b("NotificationEndpointState").getAllInstances(c.endpointControllerName).forEach(function(e){var f;h(a,e,c)?(e.graphQLPageInfo=a.page_info,f=a):a.payloadsource===b("NotificationConstants").PayloadSourceType.SYNC&&c.endpointControllerName==="WebNotificationsPayloadPagelet"&&e.classification==null&&e.readness==null?f=a:f=babelHelpers["extends"]({},a,{nodes:a.nodes?a.nodes.filter(function(a){return j(a,e)}):void 0});if(f.nodes&&f.nodes.length>0){f=k(e,f);f!=null&&f.forEach(function(a){d[a]=!0})}});b("NotificationUpdates").didUpdateNotifications(Object.keys(d))}function j(a,b){var c=b.classification,d=b.notifications,e=b.order;b=b.readness;e=e.getAllResources();e.length===0;if(e.length>0){e=e[0];d=d.getResource(e);if((d==null?void 0:d.creation_time)>=a.creation_time)return!1}if(c&&(!a.classifications||!a.classifications.includes(c)))return!1;return b&&b==="SEEN_AND_READ"!==(a.seen_state==="SEEN_AND_READ")?!1:!0}function k(a,b){var c=[],d={};b.nodes&&b.nodes.length>0&&b.nodes.forEach(function(b){var e=b.alert_id,f=a.notifications.getResource(e);(!f||f.creation_time<b.creation_time)&&(c.push(e),d[e]=b)});a.notifications.addResourcesAndExecute(d);a.order.addResources(c);return c}b("NotificationUpdates").subscribe("update-notifications",function(a,c){c.payloadsource!==b("NotificationConstants").PayloadSourceType.ENDPOINT&&i(c,{endpointControllerName:c.endpoint!=null?c.endpoint:"WebNotificationsPayloadPagelet"})});var l={getNotifications:function(a,c,d){var e=b("NotificationEndpointState").getInstance(c),f=e.notifications,h=e.order,j,k=h.executeOrEnqueue(0,a,function(a){if(d){j=f.executeOrEnqueue(a,d);a=f.getUnavailableResources(j);a.length>0&&b("FBLogger")("notifications").warn("The range for this endpoint contained notification IDs for which we have no payload (Notification IDs: %s, Endpoint config: %s)",JSON.stringify(a),JSON.stringify(e.getConfig()))}});function m(){h.unsubscribe(k),j&&f.unsubscribe(j)}if(h.getUnavailableResources(k).length===0)return{remove:m};if(!l.canFetchMore(c)){h.forceRunCallbacks();return{remove:m}}var n=e.getHash();g[n]==null?g[n]=1:g[n]++;function o(){g[n]--,g[n]===0&&h.forceRunCallbacks()}function p(a){if(!(a&&a.nodes))return;b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.ENDPOINT,a,c.readness,c.classification);i(babelHelpers["extends"]({},a,{payloadsource:b("NotificationConstants").PayloadSourceType.ENDPOINT}),c)}function q(){g[n]--,g[n]===0&&h.forceRunCallbacks()}a=b("NotificationServerTransport").makeRequest(e,a,{onChunkResponse:p,onCompleted:q,onError:o});var r=a.remove;return{remove:function(){m(),r()}}},getNotification:function(a,c){c=c===void 0?{}:c;var d=c.classification,e=c.endpointControllerName;e=e===void 0?"WebNotificationsPayloadPagelet":e;c=c.readness;d=b("NotificationEndpointState").getInstance({classification:d,endpointControllerName:e,readness:c});e=d.notifications;return e.getResource(a)},getAllForAllEndpoints:function(){var a=this,c=b("NotificationEndpointState").getAllInstances();c=b("flatMapArray")(c,function(c){c=a.getAll(c.getConfig());return b("objectValues")(c)});c=b("sortBy")(c,function(a){return a.creation_time});c=c.reverse();c=b("distinctArrayBy")(c,function(a){return a.alert_id});return b("createObjectBy")(c,function(a){return a.alert_id})},getAll:function(a){var c=b("NotificationEndpointState").getInstance(a),d=c.notifications;c=c.order;var e={};c.getAllResources().forEach(function(c){var f=d.getResource(c);f==null?b("FBLogger")("notifications").warn("The range for this endpoint contained a notification ID for which we have no payload (Notification ID: %s, Endpoint config: %s)",c,JSON.stringify(a)):e[c]=f});return e},getCount:function(a){a=b("NotificationEndpointState").getInstance(a);return a.order.getAllResources().length},canFetchMore:function(a){a=b("NotificationEndpointState").getInstance(a);a=a.graphQLPageInfo;return!a||!Object.prototype.hasOwnProperty.call(a,"has_next_page")||a.has_next_page},registerEndpoint:function(a){b("NotificationEndpointState").getInstance(a)}};l.registerEndpoint({endpointControllerName:"WebNotificationsPayloadPagelet"});e.exports=l}),null);
__d("NotificationBucketStore",["NotificationBucketStoreManager","NotificationConstants","NotificationGenericBucket","NotificationsBucketList","NotificationStore","NotificationUpdates"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=[],this.$2={},this.$3=[],this.$4={},this.$5=b,this.$6=!1,this.$7=null,this.$8={},this.$6=!1,this.$9(a),this.$10()}var c=a.prototype;c.$9=function(a){var c=this;if(this.$6)return;this.$6=!0;b("NotificationsBucketList").buckets.forEach(function(a){a.bucket_type=a.bucket_type.toUpperCase();a=new(b("NotificationGenericBucket"))(a);c.$3.push(a);c.$4[a.getType()]=a});this.$11(a,this.$5,!1)};c.$12=function(){this.$1=this.$3.map(function(a){return{ids:a.getSortedIDs(),title:a.getTitle()||"",bucketType:a.getType()}})};c.$13=function(a,c,d){return!d&&a===b("NotificationBucketStoreManager").getSkipBucketType()&&!c};c.$14=function(a,b,c){var d=a.alert_id;this.$2[d]||(this.$2[d]=[]);var e=[];for(var f=0,g=this.$3.length;f<g;f++){var h=this.$3[f];if(this.$13(h.getType(),b,c))continue;var i=h.insertIfEligible(a);e.push({bucket:h.getType(),result:i});if(i.eligible){this.$2[d].push(e);this.$15(a,h);return h.getType()}}this.$2[d].push(e);return null};c.$15=function(a,b){this.$8[a.alert_id]=b.getType()};c.$16=function(a,b){delete this.$8[a.alert_id]};c.$17=function(a,b,c){var d=a.alert_id,e=this.$18(d);if(e){e=this.$19(e);e&&(e.remove(d),this.$16(a,e))}this.$14(a,b,c)};c.$18=function(a){return this.$8[a]};c.$19=function(a){return this.$4[a]};c.$20=function(){this.$8={},this.$3.forEach(function(a){return a.reset()}),this.$2={},this.$12()};c.$11=function(a,c,d){var e=b("NotificationStore").getAll({endpointControllerName:a,classification:c});this.$21(Object.keys(e).map(function(a){return e[a]}),d||!1,!1)};c.$21=function(a,b,c){var d=this;a.forEach(function(a){return d.$17(a,b,c)});this.$12()};c.$10=function(){var a=this;b("NotificationUpdates").subscribe("update-notifications",function(c,d){c=d.nodes;if(c==null||c.length===0)return;if(d.payloadsource===b("NotificationConstants").PayloadSourceType.LIVE_SEND){var e=!1;c.forEach(function(b){e=b.classifications&&b.classifications.includes(a.$5)});if(!e&&a.$5!=null)return;a.$20();a.$11(d.endpoint||"WebNotificationsPayloadPagelet",a.$5,!0)}else b("NotificationBucketStoreManager").getActiveClassification()==a.$5&&(a.$7==null&&(a.$7=d.servertime),a.$21(c,!1,d.servertime===a.$7))})};c.getBucketListData=function(){return this.$1};c.isEmptyBucketListData=function(){var a=this.$1.reduce(function(a,b){return a+b.ids.length},0);return a===0};return a}();e.exports=a}),null);
__d("NotificationBucketStoreManager",["NotificationBucketStore"],(function(a,b,c,d,e,f){"use strict";var g={},h,i=null;a={getSkipBucketType:function(){return i},setSkipBucketType:function(a){i=a},setActiveClassification:function(a){h=a},getActiveClassification:function(){return h},getBucketStoreInstance:function(a,c){var d=c==null?"NO_CLASSIFICATION":c;g[d]==null&&(g[d]=new(b("NotificationBucketStore"))(a,c));return g[d]}};e.exports=a}),null);
__d("ExternalNotificationOptionHandler",["AsyncDialog","URI"],(function(a,b,c,d,e,f){var g;function a(a,c,d){c=(c=c)!=null?(c=c.client_info)!=null?c.action_type:c:c;if(c==="REPORT_BUG"){c=new(g||(g=b("URI")))("/ajax/bugs/report").setQueryData({client_notifs:d,notif_alert_id:a});b("AsyncDialog").bootstrap(c.toString(),null,"dialog");return!0}return!1}e.exports={tryHandle:a}}),null);
__d("retry",["regeneratorRuntime","asyncSleep"],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e){var f;f=b.call(this,a)||this;f.message=a;f.values=c;f.errors=d;f.options=e;return f}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(){function a(b){this.$1=babelHelpers["extends"]({},a.RETRY_OPTION_DEFAULTS,b),this.$2=0,this.$3=!1,this.$4=!1,this.$5=[],this.$6=[],this.$7=null,this.$8=0,this.$9()}var c=a.prototype;c.$9=function(){if(this.$1.interval&&this.$1.interval<0)throw new g("C'mon, interval < 0 makes no sense.",[],[],this.$1);if(this.$1.backoff&&this.$1.backoff<1)throw new g("backoff must be >= 1",[],[],this.$1);if(this.$1.jitter&&(this.$1.jitter<0||this.$1.jitter>1))throw new g("jitter must be in range [0, 1]",[],[],this.$1)};c.onValue=function(){this.$1.retryValues||(this.$1.retryValues=[]);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$1.retryValues=this.$1.retryValues.concat(b);return this};c.untilValue=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.untilValueMatches(function(a){return b.indexOf(a)!==-1})};c.onFalsy=function(){return this.onValueMatches(function(a){return!a})};c.onTruthy=function(){return this.onValueMatches(function(a){return!!a})};c.untilTruthy=function(){return this.onFalsy()};c.untilFalsy=function(){return this.onTruthy()};c.onNull=function(){return this.onValueMatches(function(a){return a===null})};c.onUndefined=function(){return this.onValueMatches(function(a){return a===void 0})};c.onValueMatches=function(){this.$1.retryValueMatchers||(this.$1.retryValueMatchers=[]);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$1.retryValueMatchers=this.$1.retryValueMatchers.concat(b);return this};c.untilValueMatches=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.onValueMatches.apply(this,b.map(function(a){return function(b){return!a(b)}}))};c.onError=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b.length===0)return this.onErrorMatches(function(a){return!0});this.$1.retryErrorClasses||(this.$1.retryErrorClasses=[]);this.$1.retryErrorClasses=this.$1.retryErrorClasses.concat(b);return this};c.onErrorMatches=function(){this.$1.retryErrorMatchers||(this.$1.retryErrorMatchers=[]);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$1.retryErrorMatchers=this.$1.retryErrorMatchers.concat(b);return this};c.limit=function(a){this.$1.retries=a;this.$9();return this};c.once=function(){return this.limit(1)};c.twice=function(){return this.limit(2)};c.withInterval=function(a){this.$1.interval=a;this.$9();return this};c.withMaxInterval=function(a){this.$1.maxInterval=a;return this};c.withMinInterval=function(a){this.$1.minInterval=a;return this};c.withBackoff=function(a){this.$1.backoff=a;this.$9();return this};c.withJitter=function(a){this.$1.jitter=a;this.$9();return this};c.abort=function(){this.$3=!0};c.getCallCount=function(){return this.$2};c.getValues=function(){return this.$5};c.getErrors=function(){return this.$6};c.isRunning=function(){return this.$4};c.call=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$4){e.next=2;break}throw new g("Cannot reuse a retry object while it is still running!",[],[],this.$1);case 2:this.$4=!0,e.prev=3,this.$7=a,this.$6=[],this.$5=[];case 7:if(!(!this.$1.retries||this.$2<this.$1.retries+1)){e.next=33;break}if(!(this.$2>0)){e.next=12;break}c=this.$10();e.next=12;return b("regeneratorRuntime").awrap(b("asyncSleep")(c));case 12:if(!this.$3){e.next=14;break}throw new g("Retry aborted.",this.$5,this.$6,this.$1);case 14:e.prev=14;this.$2++;e.next=18;return b("regeneratorRuntime").awrap(a());case 18:d=e.sent;this.$5.push(d);if(!this.$11(d)){e.next=22;break}return e.abrupt("continue",7);case 22:return e.abrupt("return",d);case 25:e.prev=25;e.t0=e["catch"](14);this.$6.push(e.t0);if(!this.$12(e.t0)){e.next=30;break}return e.abrupt("continue",7);case 30:throw e.t0;case 31:e.next=7;break;case 33:throw new g("Max call count exceeded.",this.$5,this.$6,this.$1);case 34:e.prev=34;this.$4=!1;return e.finish(34);case 37:case"end":return e.stop()}},null,this,[[3,,34,37],[14,25]])};c.$10=function(){return Math.max(0,this.$13(this.$14()))};c.$13=function(a){a=a;this.$1.minInterval&&(a=Math.max(a,this.$1.minInterval));this.$1.maxInterval&&(a=Math.min(a,this.$1.maxInterval));return a};c.$14=function(){return this.$15()+this.$16()};c.$17=function(){return this.$1.interval?this.$1.interval:0};c.$18=function(){return this.$1.backoff?this.$1.backoff:1};c.$15=function(){var a=this.$17(),b=this.$18();return a*Math.pow(b,this.$2-1)};c.$16=function(){var a=this.$19(),b=a-this.$8;this.$8=a;return b};c.$19=function(){var a=this.$1.jitter;if(!a)return 0;var b=Math.random()*2-1;b=b*b*b*a/2;a=this.$17();var c=this.$18(),d=c-1;return d<1e-6?a*Math.pow(c,this.$2)*(b+d*(b*b-b)/2):a*Math.pow(c,this.$2)*(Math.pow(c,b)-1)/(c-1)};c.$11=function(a){return!!this.$1.retryValues&&this.$1.retryValues.indexOf(a)!==-1||!!this.$1.retryValueMatchers&&this.$1.retryValueMatchers.some(function(b){return b(a)})};c.$12=function(a){return!!this.$1.retryErrorClasses&&this.$1.retryErrorClasses.some(function(b){return a instanceof b})||!!this.$1.retryErrorMatchers&&this.$1.retryErrorMatchers.some(function(b){return b(a)})};return a}();h.RETRY_OPTION_DEFAULTS={interval:1e3,backoff:1,jitter:.25};function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(new h(c).call(a));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)}a.Retry=h;a.RetryError=g;function c(){var a;return(a=new h()).onValue.apply(a,arguments)}a.onValue=c;function d(){var a;return(a=new h()).untilValue.apply(a,arguments)}a.untilValue=d;function f(){return new h().onFalsy()}a.onFalsy=f;function i(){return new h().onTruthy()}a.onTruthy=i;function j(){return new h().untilTruthy()}a.untilTruthy=j;function k(){return new h().untilFalsy()}a.untilFalsy=k;function l(){return new h().onNull()}a.onNull=l;function m(){return new h().onUndefined()}a.onUndefined=m;function n(){var a;return(a=new h()).onValueMatches.apply(a,arguments)}a.onValueMatches=n;function o(){var a;return(a=new h()).untilValueMatches.apply(a,arguments)}a.untilValueMatches=o;function p(){var a;return(a=new h()).onError.apply(a,arguments)}a.onError=p;function q(){var a;return(a=new h()).onErrorMatches.apply(a,arguments)}a.onErrorMatches=q;function r(a){return new h().limit(a)}a.limit=r;function s(){return new h().once()}a.once=s;function t(){return new h().twice()}a.twice=t;function u(a){return new h().withInterval(a)}a.withInterval=u;function v(a){return new h().withMaxInterval(a)}a.withMaxInterval=v;function w(a){return new h().withMinInterval(a)}a.withMinInterval=w;function x(a){return new h().withBackoff(a)}a.withBackoff=x;function y(a){return new h().withJitter(a)}a.withJitter=y;e.exports=a}),null);
__d("QPLTimeToLoadHelper",["QuickPerformanceLogger","Run","crc32","performance"],(function(a,b,c,d,e,f){"use strict";var g;function h(a){return a&&b("crc32")(a)||0}function i(a){return(g||(g=b("performance")))&&(g||(g=b("performance"))).timing&&(g||(g=b("performance"))).timing.navigationStart&&a<(g||(g=b("performance"))).timing.navigationStart?a+(g||(g=b("performance"))).timing.navigationStart:a}function j(a){a.time!=null&&(a.time=i(a.time));var c=h(a.instanceKey);b("QuickPerformanceLogger").markerStart(a.qplMarker,c,a.time);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,"SOURCE",a.source,c);b("Run").onUnload(function(){return b("QuickPerformanceLogger").markerEnd(a.qplMarker,4,c)})}a={startWithClickEvent:function(a){j(babelHelpers["extends"]({},a,{time:a.event.timeStamp}))},start:function(a){j(a)},annotateString:function(a){var c=h(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,a.annotationKey,a.annotationValue,c)},annotateInt:function(a){var c=h(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,a.annotationKey,a.annotationValue,c)},addPoint:function(a){var c=h(a.instanceKey);b("QuickPerformanceLogger").markerPoint(a.qplMarker,a.pointName,{instanceKey:c,timestamp:a.time!=null?i(a.time):a.time,data:a.data!=null?{string:{__key:a.data}}:null})},drop:function(a){b("QuickPerformanceLogger").markerDrop(a.qplMarker,h(a.instanceKey))},end:function(a){var c=a.time!=null?i(a.time):a.time,d=h(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,"END_TIME",c==null?-1:c,d);b("QuickPerformanceLogger").markerEnd(a.qplMarker,a.action?a.action:2,d,c)}};e.exports=a}),null);